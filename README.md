# metamorphic_testing
In this repository you can find the programs to reproduce the results
of the paper 'Metamorphic Testing Quantum Programs'.

The file adder_mod.py contains all definitions: The program under testing,
the mutants and the metamorphic rules.

The program under testing is generated by the 'sumnbits_circuit'
function that takes as argument the number of bits of the integers.

The mutants are generated by the function 'sum_mutant2_nbits'. That
requires the number of bits to represent the integeres and a list of
failing values for the sum. The sum is performed like in the previous
function. Then if one the of the arguments matches an element in the
list, the result is changed.

The metamorphic rules are generated by the functions mtrule1 and
mtrule2.

The grover algorithm is constructed following the guidelines in
https://qiskit.org/textbook/ch-algorithms/grover.html

The results are generated by the program results.py. Running this
program in the consoles generates a directory called
'experiments'. This directory containing some charts, some of them
are the ones appearing in the paper, and some files to analyze the
results with more detail. Since the charts are generated from
observations they may have some differences from the ones in the
paper. The files appearing in this directory are:
- sim_R0.txt, sim_R1.txt: the files containing the raw data of the
  experiments.
- fakeR0_X.txt. Controlled experiments with a fake gate
- mtRX_Y_Z.txt. The charts for the metamorphic rule X, with a mutant
  with Y failures and Z steps of the Grover Algorithm. If Y=0, we are
  using the implementation under testing with no failures.

Finally the percentages appearing in the results section has been
generated using the files generated by the results.py program in the
jupyter notebook show results.
